#dot
strict digraph g {
	node [ shape = box ];
	nodesep = 0.1;
	ranksep = 1;

	subgraph cluster_thread {
		label = "Threads";
		node_a_thread_thread_id             [ label = "*thread_id*" ];
		node_a_thread_parent                [ label = "parent" ];
		node_a_thread_oplist                [ label = "oplist" ];
		node_a_thread_default_thread_oplist [ label = "-default_thread_oplist-" ];
		node_a_thread_default_post_oplist   [ label = "default_post_oplist" ];
		node_a_thread_first_post            [ label = "first_post" ];
		node_a_thread_type                  [ label = "type" ];
		node_a_thread_top_type              [ label = "top_type" ];
		node_a_thread_good_type             [ label = "good_type" ];
		node_a_thread_no_post               [ label = "no_post" ];
		node_a_thread_hidden                [ label = "hidden" ];
		node_a_thread_anonymous             [ label = "anonymous" ];
		node_a_thread_title                 [ label = "title" ];
		node_a_thread_time                  [ label = "time" ];
		node_a_thread_highlight             [ label = "<highlight>" ];
		node_a_thread_author                [ label = "-author-" ];
		node_a_thread_author_name           [ label = "-author_name-" ];
	}

	subgraph cluster_thread_stat {
		label = "ThreadStat";
		node_a_thread_stat_thread_id [ label = "*thread_id*" ];
	}

	subgraph cluster_highlight {
		label = "Highlight"
		node_a_highlight_color  [ label = "color" ];
		node_a_highlight_bold   [ label = "bold" ];
		node_a_highlight_italic [ label = "italic" ];
	}

	subgraph cluster_board {
		label = "Board";
		node_a_board_board_id [ label = "*board_id*" ];
		node_a_board_default_thread_oplist [ label = "default_thread_oplist" ];
	}

	subgraph cluster_post {
		label = "Post";
		node_a_post_post_id             [ label = "*post_id*" ];
		node_a_post_parent              [ label = "parent" ];
		node_a_post_oplist              [ label = "oplist" ];
		node_a_post_default_post_oplist [ label = "-default_post_oplist-" ];
		node_a_post_anonymous           [ label = "-anonymous-" ];
		node_a_post_author              [ label = "author" ];
		node_a_post_author_name         [ label = "-author_name-" ];
	}

	subgraph cluster_oplist {
		label = "Oplist";
		node_a_oplist_oplist_id [ label = "*oplist_id*" ];
		node_a_oplist_oplist    [ label = "oplist" ];
	}

	subgraph cluster_oplist_2 {
		label = "Oplist";
		node_a_oplist_oplist_id_2 [ label = "*oplist_id*" ];
	}

	subgraph cluster_oplist_3 {
		label = "Oplist (of Post)";
		node_a_oplist_oplist_id_3 [ label = "*oplist_id*" ];
	}

	subgraph cluster_user {
		label = "User";
		node_a_user_user_id [ label = "*user_id*" ];
		node_a_user_name    [ label = "name" ];
	}

	node_a_thread_first_post -> node_a_post_post_id;
	node_a_thread_parent -> node_a_board_board_id;
	node_a_thread_oplist -> node_a_oplist_oplist_id [ label = "using\n default" ];
	node_a_thread_default_thread_oplist -> node_a_board_default_thread_oplist [ style = dashed ];
	node_a_thread_default_post_oplist -> node_a_oplist_oplist_id_3;
	node_a_thread_author -> node_a_post_author [ style = dashed ];
	node_a_thread_author_name -> node_a_user_name [ style = dashed ];

	node_a_thread_highlight -> node_a_highlight_color  [ arrowhead = none ];
	node_a_thread_highlight -> node_a_highlight_bold   [ arrowhead = none ];
	node_a_thread_highlight -> node_a_highlight_italic [ arrowhead = none ];

	node_a_post_parent -> node_a_thread_thread_id;
	node_a_post_anonymous -> node_a_thread_anonymous [style = dashed ];
	node_a_post_oplist -> node_a_oplist_oplist_id_3 [ label = "using\n default" ];
	node_a_post_default_post_oplist -> node_a_thread_default_post_oplist [ style = dashed ];

	node_a_oplist_oplist -> node_a_oplist_oplist_id_2;

	node_a_post_author -> node_a_user_user_id;
	node_a_post_author_name -> node_a_user_name     [ style = dashed ];

	node_a_board_default_thread_oplist -> node_a_oplist_oplist_id;
	
	node_a_thread_stat_thread_id -> node_a_thread_thread_id;
}
